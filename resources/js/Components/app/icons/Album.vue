<script setup>
    import Modal from '@/Components/Modal.vue';

    import {
        ref
    } from 'vue';

    const videoFile = ref(null);
    const video = ref(null);
    const videoType = ref(null);
    const isModelOpen = ref(false);

    const handleVideo = (el) => {
        const vid = el.target.files[0];
        if (vid && vid.type.startsWith('video/')) {
            video.value = URL.createObjectURL(vid)
            videoType.value = `video/${vid.type}`;
            modelOpen();
        }
    }

    const modelOpen = () => {
        isModelOpen.value = true;
    }
    const modelClose = () => {
        isModelOpen.value = false;
    }
</script>
<template>
    <div class="cursor-pointer">
        <input type="file" name="viedos" id="viedos" accept="video/*" multiple class="hidden" ref="videoFile" @change="handleVideo">
        <svg @click="videoFile.click()" version="1.1" id="Layer_1" xmlns="http://www.w3.org/2000/svg"
            xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px" width="100%" viewBox="0 0 512 512"
            enable-background="new 0 0 512 512" xml:space="preserve">
            <path fill="none" opacity="1.000000" stroke="none" d="
                M1.000000,196.000000
                C1.000000,130.666672 1.000000,65.833336 1.000000,1.000000
                C171.666672,1.000000 342.333344,1.000000 513.000000,1.000000
                C513.000000,171.666672 513.000000,342.333344 513.000000,513.000000
                C342.333344,513.000000 171.666672,513.000000 1.000000,513.000000
                C1.000000,407.500000 1.000000,302.000000 1.000000,196.000000
                M386.819305,63.451393
                C382.206970,62.969765 377.594971,62.071716 372.982239,62.067852
                C276.149017,61.986691 179.315628,61.974751 82.482460,62.093582
                C77.234375,62.100021 71.851479,62.836246 66.764931,64.142410
                C47.958038,68.971786 33.010250,88.650352 33.009003,108.060989
                C33.003876,188.060974 33.005306,268.060974 33.015785,348.060944
                C33.016045,350.056671 32.902790,352.097443 33.257980,354.041290
                C37.355598,376.466217 58.095364,393.738983 81.083237,393.998749
                C92.209000,394.124481 90.951706,392.455719 90.995277,403.760742
                C91.097626,430.311676 112.796455,451.990356 139.362625,451.991638
                C236.195938,451.996246 333.029297,451.953491 429.862488,452.063232
                C438.347443,452.072845 446.259918,450.646729 454.045105,447.203583
                C468.945007,440.613892 480.987946,422.843811 480.989594,406.561066
                C480.997620,326.227753 480.998474,245.894440 480.966919,165.561142
                C480.966003,163.254059 480.845306,160.883713 480.322723,158.649948
                C474.924042,135.573807 455.277069,120.070503 431.535126,119.999176
                C422.333282,119.971527 422.861481,120.945732 423.027557,111.858284
                C423.438568,89.370415 408.661469,69.481285 386.819305,63.451393
                z" />
            <path fill="#392F1D" opacity="1.000000" stroke="none" d="
                M387.200867,63.603428
                C408.661469,69.481285 423.438568,89.370415 423.027557,111.858284
                C422.861481,120.945732 422.333282,119.971527 431.535126,119.999176
                C455.277069,120.070503 474.924042,135.573807 480.322723,158.649948
                C480.845306,160.883713 480.966003,163.254059 480.966919,165.561142
                C480.998474,245.894440 480.997620,326.227753 480.989594,406.561066
                C480.987946,422.843811 468.945007,440.613892 454.045105,447.203583
                C446.259918,450.646729 438.347443,452.072845 429.862488,452.063232
                C333.029297,451.953491 236.195938,451.996246 139.362625,451.991638
                C112.796455,451.990356 91.097626,430.311676 90.995277,403.760742
                C90.951706,392.455719 92.209000,394.124481 81.083237,393.998749
                C58.095364,393.738983 37.355598,376.466217 33.257980,354.041290
                C32.902790,352.097443 33.016045,350.056671 33.015785,348.060944
                C33.005306,268.060974 33.003876,188.060974 33.009003,108.060989
                C33.010250,88.650352 47.958038,68.971786 66.764931,64.142410
                C71.851479,62.836246 77.234375,62.100021 82.482460,62.093582
                C179.315628,61.974751 276.149017,61.986691 372.982239,62.067852
                C377.594971,62.071716 382.206970,62.969765 387.200867,63.603428
                M178.500000,373.992279
                C243.319031,373.991882 308.138062,374.011383 372.957092,373.977875
                C390.309570,373.968903 403.005280,361.451202 403.017670,344.168060
                C403.073425,266.518646 403.146088,188.868713 402.821777,111.220604
                C402.798218,105.588493 400.671417,99.365677 397.755920,94.469414
                C391.610779,84.149338 381.312256,81.558235 369.783905,81.573898
                C281.303650,81.694145 192.823166,81.638870 104.342743,81.640808
                C97.011200,81.640968 89.673386,81.469589 82.349350,81.709579
                C64.130402,82.306549 52.281841,94.349838 52.260342,112.659332
                C52.170135,189.475555 52.157562,266.292053 52.266979,343.108215
                C52.293377,361.641174 65.032616,373.974548 83.520805,373.986542
                C114.847198,374.006836 146.173599,373.992249 178.500000,373.992279
                M422.831512,189.499908
                C422.831482,240.332581 422.832397,291.165253 422.830811,341.997925
                C422.830353,356.798828 418.234741,369.778290 407.322998,380.090729
                C397.127625,389.726074 384.822449,393.452637 370.897217,393.432098
                C286.398621,393.307465 201.899734,393.370392 117.400948,393.370636
                C115.436989,393.370636 113.473030,393.370605 111.596710,393.370605
                C107.215843,418.611481 124.546707,432.432495 143.360931,432.327057
                C238.856567,431.791992 334.357758,431.864258 429.854553,432.283142
                C446.666779,432.356873 461.537994,419.982635 461.439484,400.839325
                C461.046631,324.509094 461.289581,248.175674 461.239563,171.843475
                C461.237427,168.545761 461.132141,165.122437 460.281128,161.972092
                C455.961731,145.983002 441.289398,137.618332 422.831512,140.703506
                C422.831512,156.580719 422.831512,172.540314 422.831512,189.499908
                z" />
            <path fill="#8FE38F" opacity="1.000000" stroke="none" d="
                M178.000000,373.992279
                C146.173599,373.992249 114.847198,374.006836 83.520805,373.986542
                C65.032616,373.974548 52.293377,361.641174 52.266979,343.108215
                C52.157562,266.292053 52.170135,189.475555 52.260342,112.659332
                C52.281841,94.349838 64.130402,82.306549 82.349350,81.709579
                C89.673386,81.469589 97.011200,81.640968 104.342743,81.640808
                C192.823166,81.638870 281.303650,81.694145 369.783905,81.573898
                C381.312256,81.558235 391.610779,84.149338 397.755920,94.469414
                C400.671417,99.365677 402.798218,105.588493 402.821777,111.220604
                C403.146088,188.868713 403.073425,266.518646 403.017670,344.168060
                C403.005280,361.451202 390.309570,373.968903 372.957092,373.977875
                C308.138062,374.011383 243.319031,373.991882 178.000000,373.992279
                M188.610641,312.302887
                C190.720932,311.338562 192.906174,310.509705 194.930344,309.389740
                C228.084229,291.046082 261.204987,272.642487 294.363312,254.306915
                C305.001251,248.424454 311.094360,239.722031 310.948486,227.374542
                C310.805176,215.243393 304.586517,206.813965 294.148773,201.050766
                C261.125671,182.817093 228.028549,164.712006 195.201782,146.130173
                C172.772278,133.433762 149.136856,150.011337 149.678787,172.812180
                C150.549515,209.446594 149.898117,246.116867 149.938995,282.771942
                C149.942123,285.582886 150.038727,288.452850 150.592667,291.194183
                C153.703476,306.589081 170.874557,318.170074 188.610641,312.302887
                z" />
            <path fill="#A5F4F4" opacity="1.000000" stroke="none" d="
                M422.831512,188.999908
                C422.831512,172.540314 422.831512,156.580719 422.831512,140.703506
                C441.289398,137.618332 455.961731,145.983002 460.281128,161.972092
                C461.132141,165.122437 461.237427,168.545761 461.239563,171.843475
                C461.289581,248.175674 461.046631,324.509094 461.439484,400.839325
                C461.537994,419.982635 446.666779,432.356873 429.854553,432.283142
                C334.357758,431.864258 238.856567,431.791992 143.360931,432.327057
                C124.546707,432.432495 107.215843,418.611481 111.596710,393.370605
                C113.473030,393.370605 115.436989,393.370636 117.400948,393.370636
                C201.899734,393.370392 286.398621,393.307465 370.897217,393.432098
                C384.822449,393.452637 397.127625,389.726074 407.322998,380.090729
                C418.234741,369.778290 422.830353,356.798828 422.830811,341.997925
                C422.832397,291.165253 422.831482,240.332581 422.831512,188.999908
                z" />
            <path fill="#392E1C" opacity="1.000000" stroke="none" d="
                M188.249817,312.483398
                C170.874557,318.170074 153.703476,306.589081 150.592667,291.194183
                C150.038727,288.452850 149.942123,285.582886 149.938995,282.771942
                C149.898117,246.116867 150.549515,209.446594 149.678787,172.812180
                C149.136856,150.011337 172.772278,133.433762 195.201782,146.130173
                C228.028549,164.712006 261.125671,182.817093 294.148773,201.050766
                C304.586517,206.813965 310.805176,215.243393 310.948486,227.374542
                C311.094360,239.722031 305.001251,248.424454 294.363312,254.306915
                C261.204987,272.642487 228.084229,291.046082 194.930344,309.389740
                C192.906174,310.509705 190.720932,311.338562 188.249817,312.483398
                M221.304932,183.172211
                C209.378845,176.590195 197.469910,169.976807 185.520966,163.436523
                C176.726135,158.622650 169.499512,162.466797 169.460800,172.344711
                C169.315857,209.337967 169.314651,246.332504 169.466766,283.325714
                C169.506134,292.903290 176.797867,296.900879 185.210327,292.255585
                C218.225464,274.024994 251.192337,255.706955 284.206055,237.473740
                C288.212341,235.261093 291.296570,232.729019 291.218933,227.564560
                C291.144501,222.614395 288.069733,220.184326 284.283386,218.090958
                C263.490845,206.595413 242.707260,195.083603 221.304932,183.172211
                z" />
            <path fill="#FDD44A" opacity="1.000000" stroke="none" d="
                M221.612762,183.374802
                C242.707260,195.083603 263.490845,206.595413 284.283386,218.090958
                C288.069733,220.184326 291.144501,222.614395 291.218933,227.564560
                C291.296570,232.729019 288.212341,235.261093 284.206055,237.473740
                C251.192337,255.706955 218.225464,274.024994 185.210327,292.255585
                C176.797867,296.900879 169.506134,292.903290 169.466766,283.325714
                C169.314651,246.332504 169.315857,209.337967 169.460800,172.344711
                C169.499512,162.466797 176.726135,158.622650 185.520966,163.436523
                C197.469910,169.976807 209.378845,176.590195 221.612762,183.374802
                z" />
        </svg>
        <Modal :show="isModelOpen" @close="modelClose">
            <div class="p-6 bg-white rounded">
                <h2 class="text-lg font-medium text-gray-900 mb-4">
                    Video Preview
                </h2>
                <div v-if="video">
                    <video :src="video" controls></video>
                </div>
                <button class="mt-4 border border-gray-100 px-3 py-1 rounded hover:bg-gray-200" @click="modelClose">Close</button>
            </div>
        </Modal>
    </div>
</template>
